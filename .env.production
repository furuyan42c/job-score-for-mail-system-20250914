# =====================================================
# Production Environment Configuration
# T074: Supabase Deployment Configuration
# =====================================================
# WARNING: Never commit this file to version control

# Application Settings
APP_NAME="バイト求人マッチングシステム"
VERSION="1.0.0"
ENVIRONMENT="production"
DEBUG=false
SECRET_KEY="${PROD_SECRET_KEY}"

# Supabase Production Configuration
NEXT_PUBLIC_SUPABASE_URL="${PROD_SUPABASE_URL}"
NEXT_PUBLIC_SUPABASE_ANON_KEY="${PROD_SUPABASE_ANON_KEY}"
SUPABASE_SERVICE_ROLE_KEY="${PROD_SUPABASE_SERVICE_ROLE_KEY}"

# Database Configuration (Supabase Managed)
DATABASE_URL="${PROD_DATABASE_URL}"
DB_POOL_SIZE=50
DB_MAX_OVERFLOW=100
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=1800

# Redis Configuration (Production)
REDIS_URL="${PROD_REDIS_URL}"
CACHE_TTL=7200

# Email Configuration
SMTP_HOST="${PROD_SMTP_HOST}"
SMTP_PORT=587
SMTP_USER="${PROD_SMTP_USER}"
SMTP_PASSWORD="${PROD_SMTP_PASSWORD}"
FROM_EMAIL="${PROD_FROM_EMAIL}"
FROM_NAME="バイト求人マッチング"

# External Services
OPENAI_API_KEY="${PROD_OPENAI_API_KEY}"
GOOGLE_MAPS_API_KEY="${PROD_GOOGLE_MAPS_API_KEY}"
SEMRUSH_API_KEY="${PROD_SEMRUSH_API_KEY}"

# Error Tracking
SENTRY_DSN="${PROD_SENTRY_DSN}"

# Performance Settings (Production)
API_RATE_LIMIT=100000
MAX_CONCURRENT_REQUESTS=50000
REQUEST_TIMEOUT=60
KEEP_ALIVE_TIMEOUT=65
QUERY_TIMEOUT=60
SLOW_QUERY_THRESHOLD=2.0

# Batch Processing
BATCH_SIZE=5000
MAX_WORKERS=16
SCORING_BATCH_SIZE=10000
EMAIL_BATCH_SIZE=500

# Matching Configuration
MATCHING_SCORE_THRESHOLD=60.0
MAX_DAILY_PICKS_PER_USER=40
RECOMMENDATION_SECTIONS=6

# Security Settings
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=30
PASSWORD_MIN_LENGTH=10
ENABLE_CSRF_PROTECTION=true
CORS_ALLOWED_ORIGINS="${PROD_FRONTEND_URL},${PROD_API_URL}"

# File Upload Settings
UPLOAD_DIR="/var/app/uploads"
MAX_FILE_SIZE=52428800

# Logging Configuration
LOG_LEVEL="WARNING"

# Worker Settings (Production)
UVICORN_WORKERS=8
UVICORN_WORKER_CONNECTIONS=5000
UVICORN_BACKLOG=4096

# Async Settings
ASYNC_POOL_SIZE=200
ASYNC_MAX_WORKERS=64

# CDN Configuration
CDN_URL="${PROD_CDN_URL}"
STATIC_URL="${PROD_CDN_URL}/static"

# Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090
PROMETHEUS_ENABLED=true

# Feature Flags
ENABLE_REALTIME=true
ENABLE_CACHING=true
ENABLE_DEBUG_MODE=false
ENABLE_MAINTENANCE_MODE=false

# Rate Limiting (Production)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_BATCH_OPERATIONS=50
RATE_LIMIT_SCORING_REQUESTS=100
RATE_LIMIT_EMAIL_SENDS=1000

# Cache Configuration (seconds)
CACHE_TTL_SHORT=60
CACHE_TTL_MEDIUM=600
CACHE_TTL_LONG=3600

# Analytics
GOOGLE_ANALYTICS_ID="${PROD_GA_ID}"
MIXPANEL_TOKEN="${PROD_MIXPANEL_TOKEN}"

# Deployment
DEPLOYMENT_ID="${DEPLOYMENT_ID}"
DEPLOYMENT_TIMESTAMP="${DEPLOYMENT_TIMESTAMP}"
GIT_COMMIT="${GIT_COMMIT}"