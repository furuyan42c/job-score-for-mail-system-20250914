# 📋 タスク管理システム - ガイド

**作成日**: 2025-09-20
**目的**: Claude Code向けタスク管理の効率化

## 🎯 新しいタスク表記システムの概要

### 1. タスクヘッダーの統一形式

```
#### T021: タスク名 [進捗%] [Q:品質%] [状態] [優先度]
```

**例**:
```
#### T021: 基礎スコア計算実装 [75%] [Q:85%] [🔄REFACTOR] [🔴P1]
```

### 2. 進捗管理（%ベース）

| 進捗% | TDD フェーズ | 内容 |
|-------|-------------|------|
| 0% | 未着手 | タスク開始前 |
| 25% | RED完了 | テスト作成済み |
| 50% | GREEN完了 | 最小実装済み |
| 75% | REFACTOR完了 | 改善済み |
| 100% | DONE | 全完了 |

### 3. 品質スコア（Q:%）

| スコア | レベル | 説明 |
|--------|--------|------|
| Q:90%+ | 本番レディ | テスト完備、ドキュメント完備、レビュー済み |
| Q:70%+ | 機能完成 | テスト有、基本ドキュメント有 |
| Q:50%+ | 動作確認済 | 最低限の動作確認済み |
| Q:30%+ | 実装中 | 動作するが品質課題あり |
| Q:0% | 未評価 | 品質未測定 |

### 4. 状態アイコン

| アイコン | 状態 | 意味 |
|----------|------|------|
| ⏳ | TODO | 未着手 |
| 🔴 | RED | TDD: テスト作成フェーズ |
| 🟢 | GREEN | TDD: 実装フェーズ |
| 🔄 | REFACTOR | TDD: リファクタリングフェーズ |
| ✅ | DONE | 完了 |
| ⚠️ | BLOCKED | ブロッカーあり |
| 🚫 | SKIP | スキップ/不要 |

### 5. 優先度表記

| マーク | 優先度 | 説明 |
|--------|--------|------|
| 🔴P1 | Critical | ブロッカー、最優先 |
| 🟡P2 | High | 重要、早期対応必要 |
| 🟢P3 | Medium | 通常優先度 |
| 🔵P4 | Low | 改善、余裕時対応 |

## 📝 タスク詳細セクションのテンプレート

```markdown
#### T021: タスク名 [75%] [Q:85%] [🔄REFACTOR] [🔴P1]

📝 **タスク内容**: 明確で簡潔な説明

📊 **進捗状況**:
- ✅ RED (25%): テスト作成完了 - 2025-09-18
- ✅ GREEN (50%): 最小実装完了 - 2025-09-19
- 🔄 REFACTOR (75%): 改善中
- ⏳ DONE (100%): 未完了

📁 **必須ファイル**:
実装: path/to/implementation.py [✅存在]
テスト: path/to/test.py [✅存在]
仕様書: specs/xxx/spec.md [✅参照必須]

🔗 **依存関係**:
前提: T016✅, T018✅
ブロック中: T022, T024
変更時要確認: T028, T035

⚠️ **課題/TODO**:
- 🔴 パフォーマンス問題（要改善）
- 🟡 メモリ使用量削減必要

✅ **完了条件**:
- [x] 機能A実装
- [x] 機能B実装
- [ ] パフォーマンス改善
- [ ] コードレビュー
```

## 📁 ファイル状態の表記ルール

| アイコン | 状態 | 説明 |
|----------|------|------|
| ✅存在 | 存在確認済 | ファイルが存在し、内容も確認済み |
| 🟡作成予定 | 作成予定 | まだ作成されていないが必要 |
| 🔴不明/エラー | 不明 | ファイルが見つからない |
| 📖参照必須 | 参照専用 | 読み取り専用の参照ドキュメント |
| 🔄要更新 | 要更新 | 存在するが更新が必要 |

## 🔗 依存関係の表記

| アイコン | タイプ | 説明 |
|----------|--------|------|
| ⬆️ | 上流依存 | このタスクの前提条件 |
| ⬇️ | 下流依存 | このタスクを待っているタスク |
| 🔄 | 修正連鎖 | 変更時に影響を受けるタスク |
| ⚡ | 並列可能 | 同時実行可能なタスク |

## 📊 グループレベルサマリーのテンプレート

```markdown
## Group B: コア実装 [全体:45%] [Q:75%]

📊 進捗サマリー:
- 完了: 6/30タスク (20%)
- 進行中: 8/30タスク (27%)
- 未着手: 16/30タスク (53%)
- 推定残時間: 24h

🔴 ブロッカー:
- T021のパフォーマンス問題が下流タスクをブロック中

📁 必須ファイル確認:
- 実装ファイル: 18/30 [60%]
- テストファイル: 12/30 [40%]
- ドキュメント: 30/30 [100%]
```

## 🔧 管理スクリプトの使用方法

### 1. 進捗更新スクリプト

```bash
python3 scripts/update_task_progress.py
```
**機能**:
- tasks.mdを解析して進捗を自動計算
- ダッシュボードを自動更新
- グループごとの集計を実行

### 2. ファイル存在チェックスクリプト

```bash
python3 scripts/check_task_files.py
```
**機能**:
- タスクで参照されているファイルの存在確認
- 不足ファイルのリストアップ
- レポート生成（file_check_report.md）

## 🎯 Claude Codeでの活用方法

### 作業開始時のワークフロー

1. **タスク確認**: ダッシュボードで全体進捗を確認
2. **優先度確認**: 🔴P1タスクから着手
3. **依存関係確認**: ブロッカーがないことを確認
4. **必須ファイル確認**: 必要なファイルの存在を確認
5. **作業実施**: TDDサイクルに従って実装

### 進捗報告時

```bash
# 進捗を自動更新
python3 scripts/update_task_progress.py

# ファイル状態を確認
python3 scripts/check_task_files.py
```

### タスク完了時の更新

1. 進捗%を100%に更新
2. 品質スコアを記載
3. 完了日時を記録
4. 下流タスクのブロッカーを解除

## 💡 ベストプラクティス

1. **毎日の更新**: 日次で進捗を更新
2. **ブロッカーの明記**: 問題は即座に⚠️で記載
3. **品質の追跡**: 品質スコアで改善点を可視化
4. **依存関係の管理**: 変更時は下流タスクを必ず確認
5. **自動化の活用**: スクリプトで手作業を削減

## 📈 効果測定

| 項目 | 改善前 | 改善後 |
|------|--------|--------|
| 進捗把握 | 曖昧 | %で明確 |
| 品質管理 | なし | Q:%で定量化 |
| 依存関係 | 不明確 | 明確に可視化 |
| ファイル管理 | 手動確認 | 自動チェック |
| 更新時間 | 30分 | 5分（自動化） |

---

このシステムにより、Claude Codeが効率的にタスクを理解し、実装を進められるようになります。