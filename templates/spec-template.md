# 機能仕様書: [機能名]

**機能ブランチ**: `[###-feature-name]`  
**作成日**: [日付]  
**ステータス**: ドラフト  
**入力**: ユーザーの説明: "$ARGUMENTS"

## 実行フロー（メイン）
```
1. 入力からユーザーの説明を解析
   → 空の場合: エラー「機能の説明が提供されていません」
2. 説明から主要概念を抽出
   → 識別: アクター、アクション、データ、制約
3. 不明確な側面ごとに:
   → [要確認: 具体的な質問]でマーク
4. ユーザーシナリオ＆テストセクションを記入
   → 明確なユーザーフローがない場合: エラー「ユーザーシナリオを決定できません」
5. 機能要件を生成
   → 各要件はテスト可能でなければなりません
   → あいまいな要件をマーク
6. 主要エンティティを識別（データが関与する場合）
7. レビューチェックリストを実行
   → [要確認]がある場合: 警告「仕様に不確実性があります」
   → 実装の詳細が見つかった場合: エラー「技術的詳細を削除してください」
8. 戻り値: 成功（仕様は計画の準備完了）
```

---

## ⚡ クイックガイドライン
- ✅ ユーザーが必要とするものとその理由に焦点を当てる
- ❌ 実装方法を避ける（技術スタック、API、コード構造なし）
- 👥 開発者ではなく、ビジネス関係者向けに書かれています

### セクション要件
- **必須セクション**: すべての機能で完成させる必要があります
- **オプションセクション**: 機能に関連する場合のみ含める
- セクションが適用されない場合は、完全に削除します（「N/A」として残さない）

### AI生成用
ユーザープロンプトからこの仕様を作成する際:
1. **すべてのあいまいさをマーク**: 仮定が必要な場合は[要確認: 具体的な質問]を使用
2. **推測しない**: プロンプトが何かを指定していない場合（例：認証方法なしの「ログインシステム」）、マークする
3. **テスターのように考える**: すべてのあいまいな要件は「テスト可能で明確」なチェックリスト項目に失敗するはずです
4. **一般的に不十分な領域**:
   - ユーザータイプと権限
   - データ保持/削除ポリシー
   - パフォーマンス目標と規模
   - エラー処理の動作
   - 統合要件
   - セキュリティ/コンプライアンスニーズ

---

## ユーザーシナリオ＆テスト *(必須)*

### 主要ユーザーストーリー
[主要なユーザージャーニーを平易な言葉で説明]

### 受け入れシナリオ
1. **前提** [初期状態]、**操作** [アクション]、**結果** [期待される結果]
2. **前提** [初期状態]、**操作** [アクション]、**結果** [期待される結果]

### エッジケース
- [境界条件]の場合はどうなるか？
- システムは[エラーシナリオ]をどのように処理するか？

## 要件 *(必須)*

### 機能要件
- **FR-001**: システムは[具体的な機能、例：「ユーザーがアカウントを作成できるようにする」]しなければならない
- **FR-002**: システムは[具体的な機能、例：「メールアドレスを検証する」]しなければならない
- **FR-003**: ユーザーは[主要な相互作用、例：「パスワードをリセット」]できなければならない
- **FR-004**: システムは[データ要件、例：「ユーザー設定を保持する」]しなければならない
- **FR-005**: システムは[動作、例：「すべてのセキュリティイベントをログに記録する」]しなければならない

*不明確な要件のマーク例:*
- **FR-006**: システムは[要確認: 認証方法が指定されていません - メール/パスワード、SSO、OAuth？]経由でユーザーを認証しなければならない
- **FR-007**: システムは[要確認: 保持期間が指定されていません]の間ユーザーデータを保持しなければならない

### 主要エンティティ *(機能がデータを含む場合は含める)*
- **[エンティティ1]**: [それが何を表すか、実装なしの主要属性]
- **[エンティティ2]**: [それが何を表すか、他のエンティティとの関係]

---

## レビュー＆承認チェックリスト
*ゲート: main()実行中に自動チェックが実行されます*

### コンテンツ品質
- [ ] 実装の詳細なし（言語、フレームワーク、API）
- [ ] ユーザー価値とビジネスニーズに焦点を当てる
- [ ] 非技術的な関係者向けに書かれている
- [ ] すべての必須セクションが完了

### 要件の完全性
- [ ] [要確認]マーカーが残っていない
- [ ] 要件はテスト可能で明確
- [ ] 成功基準は測定可能
- [ ] スコープが明確に境界付けられている
- [ ] 依存関係と仮定が識別されている

---

## 実行ステータス
*処理中にmain()によって更新*

- [ ] ユーザーの説明を解析
- [ ] 主要概念を抽出
- [ ] あいまいさをマーク
- [ ] ユーザーシナリオを定義
- [ ] 要件を生成
- [ ] エンティティを識別
- [ ] レビューチェックリストに合格

---